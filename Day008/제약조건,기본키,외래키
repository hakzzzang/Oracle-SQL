DROP TABLE EMP_FK;
DROP TABLE DEPT_FK;

#제약 조건 이름 직접 지정
DROP TABLE TABLE_NOTBULL2;
CREATE TABLE TABLE_NOTNULL2( 
    LOGIN_ID VARCHAR2(20)   CONSTRAINT CNAME_LOGID NOT NULL,
    LOGIN_PW VARCHAR2(20)   CONSTRAINT CNAME_LOGPW NOT NULL,
    TEL      VARCHAR(20)
    );
    
    ALTER TABLE TABLE_NOTNULL2
    MODIFY(TEL NOT NULL);
    
#제약조건 확인
SELECT OWNER, CONSTRAINT_NAME, CONSTRAINT_TYPE, TABLE_NAME
FROM USER_CONSTRAINTS;

DESC TABLE_NOTNULL2;
COMMIT;

#제약 조건 이름 삭제
ALTER TABLE TABLE_NOTNULL2
DROP CONSTRAINT SYS_C007038;

#제약조건 이름 추가하기
ALTER TABLE TABLE_NOTNULL2
MODIFY TEL CONSTRAINT CNAME_TEL NOT NULL;

#중복되지 않는 값 UNIQUE
CREATE TABLE TABLE_UNIQUE(
    LOGIN_ID VARCHAR2(20) UNIQUE,
    LOGIN_PW VARCHAR2(20) NOT NULL,
    TEL      VARCHAR2(20)
);

DESC TABLE_UNIQUE;
#제약조건 확인
SELECT OWNER, CONSTRAINT_NAME, CONSTRAINT_TYPE, TABLE_NAME
FROM USER_CONSTRAINTS;

INSERT INTO TABLE_UNIQUE
VALUES('2','USER_01','010-1111-1111');

CREATE TABLE TABLE_PK (
    LOGIN_ID VARCHAR2(20) PRIMARY KEY,
    LOGIN_PW VARCHAR2(20) NOT NULL,
    TEL VARCHAR2(20));
    
DESC TABLE_PK;

CREATE TABLE TABLE_NAME(
    COL1 VARCHAR2(20),
    COL2 VARCHAR2(20),
    COL3 VARCHAR2(20),
    PRIMARY KEY (COL1),
    CONSTRAINT BBB UNIQUE (COL2)
    );
    
CREATE TABLE TABLE_NAME2(
    COL1 VARCHAR2(20) PRIMARY KEY,
    COL2 VARCHAR2(20) CONSTRAINT AAA UNIQUE,
    COL3 VARCHAR2(20)
    );
    
#FOREIGN KEY 지정
#DEPT_FK, EMP_FK 
CREATE TABLE DEPT_FK(
    DEPTNO NUMBER(2) CONSTRAINT DEPT_PK PRIMARY KEY,
    DNAME VARCHAR2(14),
    LOC VARCHAR(13)
    );
    
CREATE TABLE EMP_FK(
    EMPNO NUMBER(4) CONSTRAINT EMP_PK PRIMARY KEY,
    DEPTNO NUMBER(2) CONSTRAINT CCC REFERENCES DEPT_FK(DEPTNO)
    );
    
DROP TABLE DEPT_FK;
DROP TABLE EMP_FK;


CREATE TABLE DEPT_FK(
DEPTNO NUMBER(2) CONSTRAINT DDDD PRIMARY KEY,
DNAME VARCHAR2(14),
LOC VARCHAR2(13)
);

CREATE TABLE EMP_FK(
 EMPNO NUMBER(4) PRIMARY KEY,
 DEPTNO NUMBER(2) CONSTRAINT EEEE REFERENCES DEPT_FK(DEPTNO) 
                  ON DELETE CASCADE
);
INSERT INTO DEPT_FK
VALUES (1, '총무', '서울');
INSERT INTO DEPT_FK
VALUES (10, '회계', '서울');

INSERT INTO EMP_FK
VALUES (100,1);
INSERT INTO EMP_FK
VALUES (101,10);

SELECT * FROM DEPT_FK;
SELECT * FROM EMP_FK;


DELETE FROM DEPT_FK
WHERE DEPTNO = 1;

DROP TABLE EMP_FK;
DROP TABLE DEPT_FK;
